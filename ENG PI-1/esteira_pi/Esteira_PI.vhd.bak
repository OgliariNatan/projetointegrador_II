-----------------------------------------
LIBRARY ieee;
USE ieee.std_logic_1164.all;
use IEEE.std_logic_unsigned.all;
use IEEE.std_logic_arith.all;
-----------------------------------------
ENTITY object_picker IS
	PORT ( KEY  	:  IN 	STD_LOGIC_VECTOR (3 DOWNTO 0);
		   CLOCK_50 :  IN 	STD_LOGIC;
		   LCD_DATA	:  OUT	STD_LOGIC_VECTOR (7 DOWNTO 0);
		   LCD_EN	:  OUT	STD_LOGIC;
		   LCD_RW	:  OUT	STD_LOGIC;
		   LCD_RS	:  OUT	STD_LOGIC;
		   LCD_ON	:  OUT	STD_LOGIC;
		   LCD_BLON	:  OUT	STD_LOGIC;
		 );
END object_picker;
----------------------------------------
ARCHITECTURE object OF object_picker IS
	SIGNAL flag_init: BIT := '1';
	SIGNAL clock_200: BIT;

	BEGIN

	PROCESS (CLOCK_50)
			variable count5ms  :  INTEGER RANGE 0 TO 250000;
		
		BEGIN
			IF (CLOCK_50'EVENT AND CLOCK_50='1') THEN
				count5ms := count5ms + 1;
				IF (count50 = 250000) THEN
					clock_200 <= NOT clock_200;
					count5ms := 0;
				END IF;
			END IF;
		END PROCESS;



	PROCESS (flag_init, clock_200)
			variable count4  : INTEGER RANGE 0 TO 5 := '0';
		BEGIN
			IF (flag_init='1' AND clock_200'EVENT='1')THEN				
				count4 := count4 + 1;
				IF (count4 = 4) THEN
					
					flag_init <= '0';
				END IF;
			END IF;